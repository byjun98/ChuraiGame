<!-- Header (Global) -->
<header v-if="currentStep !== 'auth'"
    class="sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100 transition-all duration-300">
    <div class="max-w-5xl mx-auto px-6 h-16 flex justify-between items-center">
        <div class="flex items-center gap-8">
            <h1 class="text-2xl font-bold text-blue-600 tracking-tight cursor-pointer select-none" @click="goToHome">
                GameMatch</h1>

            <!-- Desktop Nav -->
            <nav class="hidden md:flex gap-6">
                <button @click="currentStep = 'main'; currentTab = 'home'"
                    :class="currentTab === 'home' && currentStep === 'main' ? 'text-[#191F28] font-bold' : 'text-[#8B95A1] hover:text-[#4E5968]'">ìš”ì¦˜
                    ëœ¨ëŠ” ê²Œì„</button>
                <button @click="currentStep = 'main'; currentTab = 'recommend'"
                    :class="currentTab === 'recommend' && currentStep === 'main' ? 'text-purple-600 font-bold' : 'text-[#8B95A1] hover:text-[#4E5968]'">ğŸ¯
                    ì¶”ì²œ</button>
                <button @click="currentStep = 'main'; currentTab = 'ai'"
                    :class="currentTab === 'ai' && currentStep === 'main' ? 'text-cyan-600 font-bold' : 'text-[#8B95A1] hover:text-[#4E5968]'">ğŸ¤–
                    AI ì¶”ì²œ</button>
                <button @click="currentStep = 'main'; currentTab = 'sale'"
                    :class="currentTab === 'sale' && currentStep === 'main' ? 'text-[#191F28] font-bold' : 'text-[#8B95A1] hover:text-[#4E5968]'">ì„¸ì¼</button>
                <button @click="currentStep = 'main'; currentTab = 'community'"
                    :class="currentTab === 'community' && currentStep === 'main' ? 'text-[#191F28] font-bold' : 'text-[#8B95A1] hover:text-[#4E5968]'">ìœ ì €
                    ì»¤ë®¤ë‹ˆí‹°</button>
            </nav>
        </div>

        <!-- User Profile Widget -->
        <div v-if="user" @click="goToProfile"
            class="flex items-center gap-3 cursor-pointer hover:opacity-70 transition-opacity">
            <div class="text-right hidden sm:block leading-tight">
                <p class="text-sm font-semibold">{{ user.nickname }}</p>
                <p class="text-[11px] text-gray-400">{{ user.email }}</p>
            </div>
            <div
                class="w-9 h-9 rounded-full bg-gray-100 border border-gray-200 flex items-center justify-center overflow-hidden">
                <img v-if="user.avatar" :src="user.avatar" class="w-full h-full object-cover">
                <i v-else class="ph-fill ph-user text-gray-400"></i>
            </div>
        </div>
        <div v-else>
            <button @click="currentStep = 'auth'" class="text-sm font-medium text-blue-600">ë¡œê·¸ì¸</button>
        </div>
    </div>
</header>